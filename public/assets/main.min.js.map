{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","addSound","state","x","soundSequence","concat","_randomNum2","tmp","_extends","Object","defineProperty","value","assign","target","arguments","source","key","prototype","hasOwnProperty","_randomNum","./randomNum",2,"setGameSpeed","len","speed","gameSpeed",3,"highlight","soundId","wrapper","find","addClass","setTimeout","removeClass",4,"_rangeGen","_restart","_restart2","_playSequence","_playSequence2","_playSound","_playSound2","_addSound","_addSound2","_updateRound","_updateRound2","appState","userSequence","round","strict","$board","$","test","console","log","slice","join","on","event","num","attr","push","./addSound","./playSequence","./playSound","./rangeGen","./restart","./updateRound",5,"playSequence","_gameSpeed2","forEach","index","_gameSpeed","./gameSpeed",6,"playSound","_highlight2","trigger","_highlight","./highlight",7,"random","min","max","Math","floor",8,"range","start","end","list",9,"restart",10,"updateRound","text"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = addSound;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _randomNum = require('./randomNum');\n\nvar _randomNum2 = _interopRequireDefault(_randomNum);\n\n/**\n * Given the state of the game will add a random number to the soundSequence\n * @param  {object} state properties are the state the game is in\n * @return {object}       new object which adds one random number to the\n * soundSequence and the rest of the original state.\n */\n\nfunction addSound(state) {\n  var x = state.soundSequence.concat([(0, _randomNum2['default'])(1, 4)]);\n\n  var tmp = _extends({}, state, { soundSequence: x });\n  return tmp;\n}\n\nmodule.exports = exports['default'];\n\n},{\"./randomNum\":7}],2:[function(require,module,exports){\n/**\n * Given the state of the game will determine the length of the soundSequence to\n * set the corresponding speed in milliseconds which is passed to the\n * setTimeout() when playing the sequence to repeat.\n * @param {object} state contains all the state information about the game.\n * @return {object} new state object with the gameSpeed property set along with\n * rest of the original state object.\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = setGameSpeed;\n\nfunction setGameSpeed(state) {\n    var len = state.soundSequence.length;\n    var speed = 1300;\n    if (len >= 5) {\n        speed = 1000;\n    }\n    if (len >= 9) {\n        speed = 750;\n    }\n    if (len >= 13) {\n        speed = 500;\n    }\n    return _extends({}, state, { gameSpeed: speed });\n}\n\n;\nmodule.exports = exports[\"default\"];\n\n},{}],3:[function(require,module,exports){\n/**\n * given the soundId and a wrapper element will find the panel with an id = btn\n * and the soundId number\n * @param  {string} soundId string version of the number from the attribute look\n *                          up when a panel is clicked of triggered to click\n * @param  {jQuery element} wrapper around the panel elements and audio elements\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = highlight;\n\nfunction highlight(soundId, wrapper) {\n    wrapper.find('#btn' + soundId).addClass('active');\n    setTimeout(function () {\n        wrapper.find('#btn' + soundId).removeClass('active');\n    }, 400);\n}\n\nmodule.exports = exports['default'];\n\n},{}],4:[function(require,module,exports){\n/*** Sequence ***/\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rangeGen = require('./rangeGen');\n\nvar _rangeGen2 = _interopRequireDefault(_rangeGen);\n\nvar _randomNum = require('./randomNum');\n\nvar _randomNum2 = _interopRequireDefault(_randomNum);\n\nvar _restart = require('./restart');\n\nvar _restart2 = _interopRequireDefault(_restart);\n\n/*** Game Actions ***/\n\nvar _playSequence = require('./playSequence');\n\nvar _playSequence2 = _interopRequireDefault(_playSequence);\n\nvar _playSound = require('./playSound');\n\nvar _playSound2 = _interopRequireDefault(_playSound);\n\nvar _addSound = require('./addSound');\n\nvar _addSound2 = _interopRequireDefault(_addSound);\n\n/*** Display ***/\n\nvar _updateRound = require('./updateRound');\n\nvar _updateRound2 = _interopRequireDefault(_updateRound);\n\n(function () {\n    var appState = {\n        soundSequence: [], // The list of sound IDs to play in order\n        userSequence: [], // The list of sound IDs the user has triggered\n        gameSpeed: 1500, // the tempo of setInterval\n        round: 1, //  round or how many sounds to play\n        strict: false\n    };\n    var $board = $('#game-board');\n\n    var generateRandomSequence = function generateRandomSequence() {\n        return (0, _rangeGen2['default'])(1, 20).map(function () {\n            return (0, _randomNum2['default'])(1, 4);\n        });\n    };\n\n    var test = function test(state) {\n        console.log('sound ' + state.soundSequence);\n        console.log('user ' + state.userSequence);\n        if (state.soundSequence.slice(0, state.userSequence.length).join('') != state.userSequence.join('')) {\n            console.log('fail');\n            if (appState.strict) {\n                appState = (0, _restart2['default'])(state);\n            }\n            return false;\n        } else if (state.soundSequence.length === state.userSequence.length) {\n            console.log('passed round');\n            state.round += 1;\n            state.userSequence = [];\n            setTimeout(function () {\n                (0, _updateRound2['default'])(state.round, $board);\n                appState = (0, _addSound2['default'])(state);\n                (0, _playSequence2['default'])(appState, $board);\n            }, 1000);\n\n            return true;\n        }\n    };\n\n    $board.find('#start').on('click', function () {\n        appState = (0, _addSound2['default'])(appState);\n        (0, _playSequence2['default'])(appState, $board);\n        (0, _updateRound2['default'])(appState.round, $board);\n        // listen();\n    });\n    $board.find('#restart').on('click', function () {\n        appState = (0, _restart2['default'])(appState);\n        (0, _updateRound2['default'])(0, $board);\n    });\n    // listen();\n    $board.on('mouseup', '.square', function (event) {\n        // let x = state.userSequence.concat([($(event.target).attr('id').slice(-1))]);\n        // tmp = {...state, userSequence: x};\n        var num = $(event.target).attr('id').slice(-1);\n        (0, _playSound2['default'])(num, $board);\n        appState.userSequence.push(num);\n        test(appState);\n    });\n\n    // appState = generateSequence(appState);\n    // playSequence(appState.soundSequence);\n\n    // export {range, random, generateRandomSequence};\n})();\n\n},{\"./addSound\":1,\"./playSequence\":5,\"./playSound\":6,\"./randomNum\":7,\"./rangeGen\":8,\"./restart\":9,\"./updateRound\":10}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = playSequence;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _gameSpeed = require('./gameSpeed');\n\nvar _gameSpeed2 = _interopRequireDefault(_gameSpeed);\n\nvar _playSound = require('./playSound');\n\nvar _playSound2 = _interopRequireDefault(_playSound);\n\n/**\n * Given the state object will first call setGameSpeed then using the forEach()\n * function place a setTimeout() call on the stack base off that speed and the\n * index value from the soundSequence array\n * @param  {object} state info about the game state\n * @param  {jQuery element} this is the wrapper element for the audio files and\n *                          panel buttons to highlight\n */\n\nfunction playSequence(state, wrapper) {\n    state = (0, _gameSpeed2['default'])(state);\n    console.log(state.gameSpeed);\n    state.soundSequence.forEach(function (soundId, index) {\n        if (index < state.round) {\n            setTimeout(function () {\n                return (0, _playSound2['default'])(soundId, wrapper);\n            }, state.gameSpeed * index);\n        }\n    });\n}\n\n;\nmodule.exports = exports['default'];\n\n},{\"./gameSpeed\":2,\"./playSound\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = playSound;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _highlight = require('./highlight');\n\nvar _highlight2 = _interopRequireDefault(_highlight);\n\nfunction playSound(soundId, wrapper) {\n    console.log('playing ' + soundId);\n    //$(`[data-sound-id=\"${soundId}\"]`).trigger('play');\n    (0, _highlight2['default'])(soundId, wrapper);\n    wrapper.find('#audio' + soundId).trigger('play');\n}\n\nmodule.exports = exports['default'];\n\n},{\"./highlight\":3}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = random;\n\nfunction random(min, max) {\n\n    return Math.max(min, Math.floor(Math.random() * (max + 1)));\n}\n\nmodule.exports = exports[\"default\"];\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = range;\n\nfunction range(start, end) {\n    var list = [];\n    for (var i = start; i < end + 1; i++) {\n        list.push(i);\n    }\n\n    return list;\n}\n\nmodule.exports = exports[\"default\"];\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n        value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = restart;\n\nfunction restart(state) {\n        return _extends({}, state, {\n                soundSequence: [],\n                userSequence: [],\n                round: 1\n        });\n}\n\nmodule.exports = exports[\"default\"];\n\n},{}],10:[function(require,module,exports){\n/**\n * Given the round number from the appState.round and the $board wrapper element\n * this will find the element with id of round to modify it's text to the new\n * round number\n * @param  {string} round   round number in string form\n * @param  {jQuery element} wrapper element that acts as a game board\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = updateRound;\n\nfunction updateRound(round, wrapper) {\n  wrapper.find('#round').text(round + '');\n}\n\nmodule.exports = exports['default'];\n\n},{}]},{},[4])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9uYXRhYy9Eb2N1bWVudHMvSmF2YVNjcmlwdC9aaXBsaW5lcy9TaW1vbkdhbWUvc3JjL2pzL2FkZFNvdW5kLmpzIiwiL2hvbWUvbmF0YWMvRG9jdW1lbnRzL0phdmFTY3JpcHQvWmlwbGluZXMvU2ltb25HYW1lL3NyYy9qcy9nYW1lU3BlZWQuanMiLCIvaG9tZS9uYXRhYy9Eb2N1bWVudHMvSmF2YVNjcmlwdC9aaXBsaW5lcy9TaW1vbkdhbWUvc3JjL2pzL2hpZ2hsaWdodC5qcyIsIi9ob21lL25hdGFjL0RvY3VtZW50cy9KYXZhU2NyaXB0L1ppcGxpbmVzL1NpbW9uR2FtZS9zcmMvanMvbWFpbi5qcyIsIi9ob21lL25hdGFjL0RvY3VtZW50cy9KYXZhU2NyaXB0L1ppcGxpbmVzL1NpbW9uR2FtZS9zcmMvanMvcGxheVNlcXVlbmNlLmpzIiwiL2hvbWUvbmF0YWMvRG9jdW1lbnRzL0phdmFTY3JpcHQvWmlwbGluZXMvU2ltb25HYW1lL3NyYy9qcy9wbGF5U291bmQuanMiLCIvaG9tZS9uYXRhYy9Eb2N1bWVudHMvSmF2YVNjcmlwdC9aaXBsaW5lcy9TaW1vbkdhbWUvc3JjL2pzL3JhbmRvbU51bS5qcyIsIi9ob21lL25hdGFjL0RvY3VtZW50cy9KYXZhU2NyaXB0L1ppcGxpbmVzL1NpbW9uR2FtZS9zcmMvanMvcmFuZ2VHZW4uanMiLCIvaG9tZS9uYXRhYy9Eb2N1bWVudHMvSmF2YVNjcmlwdC9aaXBsaW5lcy9TaW1vbkdhbWUvc3JjL2pzL3Jlc3RhcnQuanMiLCIvaG9tZS9uYXRhYy9Eb2N1bWVudHMvSmF2YVNjcmlwdC9aaXBsaW5lcy9TaW1vbkdhbWUvc3JjL2pzL3VwZGF0ZVJvdW5kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7cUJDUXdCLFFBQVE7Ozs7eUJBUlAsYUFBYTs7Ozs7Ozs7Ozs7QUFR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QUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFFO0NBRWpFOzs7Ozs7Ozs7O3FCQ0p1QixLQUFLOztBQUFkLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUU7QUFDdEMsUUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ1YsU0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDbEMsWUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNoQjs7QUFFRCxXQUFPLElBQUksQ0FBQztDQUNuQjs7Ozs7Ozs7Ozs7OztxQkNQdUIsT0FBTzs7QUFBaEIsU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQ25DLDRCQUNXLEtBQUs7QUFDUiw2QkFBYSxFQUFFLEVBQUU7QUFDakIsNEJBQVksRUFBRSxFQUFFO0FBQ2hCLHFCQUFLLEVBQUUsQ0FBQztXQUNWO0NBQ1Q7Ozs7Ozs7Ozs7Ozs7Ozs7O3FCQ0F1QixXQUFXOztBQUFwQixTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFO0FBQ2hELFNBQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQztDQUMzQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgcmFuZG9tICAgICAgIGZyb20gJy4vcmFuZG9tTnVtJztcblxuLyoqXG4gKiBHaXZlbiB0aGUgc3RhdGUgb2YgdGhlIGdhbWUgd2lsbCBhZGQgYSByYW5kb20gbnVtYmVyIHRvIHRoZSBzb3VuZFNlcXVlbmNlXG4gKiBAcGFyYW0gIHtvYmplY3R9IHN0YXRlIHByb3BlcnRpZXMgYXJlIHRoZSBzdGF0ZSB0aGUgZ2FtZSBpcyBpblxuICogQHJldHVybiB7b2JqZWN0fSAgICAgICBuZXcgb2JqZWN0IHdoaWNoIGFkZHMgb25lIHJhbmRvbSBudW1iZXIgdG8gdGhlXG4gKiBzb3VuZFNlcXVlbmNlIGFuZCB0aGUgcmVzdCBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNvdW5kKHN0YXRlKSB7XG4gICAgbGV0IHggPSBzdGF0ZS5zb3VuZFNlcXVlbmNlLmNvbmNhdChbcmFuZG9tKDEsIDQpXSk7XG5cbiAgICBsZXQgdG1wID0gKHsuLi5zdGF0ZSwgc291bmRTZXF1ZW5jZTogeH0pO1xuICAgIHJldHVybiB0bXA7XG59IiwiLyoqXG4gKiBHaXZlbiB0aGUgc3RhdGUgb2YgdGhlIGdhbWUgd2lsbCBkZXRlcm1pbmUgdGhlIGxlbmd0aCBvZiB0aGUgc291bmRTZXF1ZW5jZSB0b1xuICogc2V0IHRoZSBjb3JyZXNwb25kaW5nIHNwZWVkIGluIG1pbGxpc2Vjb25kcyB3aGljaCBpcyBwYXNzZWQgdG8gdGhlXG4gKiBzZXRUaW1lb3V0KCkgd2hlbiBwbGF5aW5nIHRoZSBzZXF1ZW5jZSB0byByZXBlYXQuXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgY29udGFpbnMgYWxsIHRoZSBzdGF0ZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZ2FtZS5cbiAqIEByZXR1cm4ge29iamVjdH0gbmV3IHN0YXRlIG9iamVjdCB3aXRoIHRoZSBnYW1lU3BlZWQgcHJvcGVydHkgc2V0IGFsb25nIHdpdGhcbiAqIHJlc3Qgb2YgdGhlIG9yaWdpbmFsIHN0YXRlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0R2FtZVNwZWVkKHN0YXRlKSB7XG4gICAgbGV0IGxlbiA9IHN0YXRlLnNvdW5kU2VxdWVuY2UubGVuZ3RoO1xuICAgIGxldCBzcGVlZCA9IDEzMDA7XG4gICAgaWYgKGxlbiA+PSA1KSB7XG4gICAgICAgIHNwZWVkID0gMTAwMDtcbiAgICB9XG4gICAgaWYgKGxlbiA+PSA5KSB7XG4gICAgICAgIHNwZWVkID0gNzUwO1xuICAgIH1cbiAgICBpZiAobGVuID49IDEzKSB7XG4gICAgICAgIHNwZWVkID0gNTAwO1xuICAgIH1cbiAgICByZXR1cm4gey4uLnN0YXRlLCBnYW1lU3BlZWQ6IHNwZWVkfTtcbn07IiwiLyoqXG4gKiBnaXZlbiB0aGUgc291bmRJZCBhbmQgYSB3cmFwcGVyIGVsZW1lbnQgd2lsbCBmaW5kIHRoZSBwYW5lbCB3aXRoIGFuIGlkID0gYnRuXG4gKiBhbmQgdGhlIHNvdW5kSWQgbnVtYmVyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHNvdW5kSWQgc3RyaW5nIHZlcnNpb24gb2YgdGhlIG51bWJlciBmcm9tIHRoZSBhdHRyaWJ1dGUgbG9va1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHVwIHdoZW4gYSBwYW5lbCBpcyBjbGlja2VkIG9mIHRyaWdnZXJlZCB0byBjbGlja1xuICogQHBhcmFtICB7alF1ZXJ5IGVsZW1lbnR9IHdyYXBwZXIgYXJvdW5kIHRoZSBwYW5lbCBlbGVtZW50cyBhbmQgYXVkaW8gZWxlbWVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGlnaGxpZ2h0KHNvdW5kSWQsIHdyYXBwZXIpIHtcbiAgICB3cmFwcGVyLmZpbmQoYCNidG4ke3NvdW5kSWR9YCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3cmFwcGVyLmZpbmQoYCNidG4ke3NvdW5kSWR9YCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0sIDQwMCk7XG59IiwiLyoqKiBTZXF1ZW5jZSAqKiovXG5pbXBvcnQgcmFuZ2UgICAgICAgIGZyb20gJy4vcmFuZ2VHZW4nO1xuaW1wb3J0IHJhbmRvbSAgICAgICBmcm9tICcuL3JhbmRvbU51bSc7XG5pbXBvcnQgcmVzdGFydCAgICAgIGZyb20gJy4vcmVzdGFydCc7XG5cbi8qKiogR2FtZSBBY3Rpb25zICoqKi9cbmltcG9ydCBwbGF5U2VxdWVuY2UgZnJvbSAnLi9wbGF5U2VxdWVuY2UnO1xuaW1wb3J0IHBsYXlTb3VuZCAgICBmcm9tICcuL3BsYXlTb3VuZCc7XG5pbXBvcnQgYWRkU291bmQgICAgIGZyb20gJy4vYWRkU291bmQnO1xuXG4vKioqIERpc3BsYXkgKioqL1xuaW1wb3J0IHVwZGF0ZVJvdW5kICBmcm9tICcuL3VwZGF0ZVJvdW5kJztcblxuKGZ1bmN0aW9uKCkge1xuICAgIGxldCBhcHBTdGF0ZSA9IHtcbiAgICAgICAgc291bmRTZXF1ZW5jZTogW10sIC8vIFRoZSBsaXN0IG9mIHNvdW5kIElEcyB0byBwbGF5IGluIG9yZGVyXG4gICAgICAgIHVzZXJTZXF1ZW5jZTogW10sIC8vIFRoZSBsaXN0IG9mIHNvdW5kIElEcyB0aGUgdXNlciBoYXMgdHJpZ2dlcmVkXG4gICAgICAgIGdhbWVTcGVlZDogMTUwMCwgIC8vIHRoZSB0ZW1wbyBvZiBzZXRJbnRlcnZhbFxuICAgICAgICByb3VuZDogMSwgLy8gIHJvdW5kIG9yIGhvdyBtYW55IHNvdW5kcyB0byBwbGF5XG4gICAgICAgIHN0cmljdDogZmFsc2VcbiAgICB9O1xuICAgIGxldCAkYm9hcmQgPSAkKCcjZ2FtZS1ib2FyZCcpO1xuXG5cbiAgICBjb25zdCBnZW5lcmF0ZVJhbmRvbVNlcXVlbmNlID0gKCkgPT4gcmFuZ2UoMSwgMjApLm1hcCgoKSA9PiByYW5kb20oMSwgNCkpO1xuXG5cbiAgICBjb25zdCB0ZXN0ID0gKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzb3VuZCAnICsgc3RhdGUuc291bmRTZXF1ZW5jZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VyICcgKyBzdGF0ZS51c2VyU2VxdWVuY2UpO1xuICAgICAgICBpZiAoc3RhdGUuc291bmRTZXF1ZW5jZS5zbGljZSgwLCBzdGF0ZS51c2VyU2VxdWVuY2UubGVuZ3RoKS5qb2luKCcnKSAhPSBzdGF0ZS51c2VyU2VxdWVuY2Uuam9pbignJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsJyk7XG4gICAgICAgICAgICBpZihhcHBTdGF0ZS5zdHJpY3QpIHthcHBTdGF0ZSA9IHJlc3RhcnQoc3RhdGUpO31cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICggc3RhdGUuc291bmRTZXF1ZW5jZS5sZW5ndGggPT09IHN0YXRlLnVzZXJTZXF1ZW5jZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXNzZWQgcm91bmQnKTtcbiAgICAgICAgICAgIHN0YXRlLnJvdW5kICs9IDE7XG4gICAgICAgICAgICBzdGF0ZS51c2VyU2VxdWVuY2UgPSBbXTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVJvdW5kKHN0YXRlLnJvdW5kLCAkYm9hcmQpO1xuICAgICAgICAgICAgICAgIGFwcFN0YXRlID0gYWRkU291bmQoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHBsYXlTZXF1ZW5jZShhcHBTdGF0ZSwgJGJvYXJkKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkYm9hcmQuZmluZCgnI3N0YXJ0Jykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBhcHBTdGF0ZSA9IGFkZFNvdW5kKGFwcFN0YXRlKTtcbiAgICAgICAgcGxheVNlcXVlbmNlKGFwcFN0YXRlLCAkYm9hcmQpO1xuICAgICAgICB1cGRhdGVSb3VuZChhcHBTdGF0ZS5yb3VuZCwgJGJvYXJkKTtcbiAgICAgICAgLy8gbGlzdGVuKCk7XG5cbiAgICB9KTtcbiAgICAkYm9hcmQuZmluZCgnI3Jlc3RhcnQnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFwcFN0YXRlID0gcmVzdGFydChhcHBTdGF0ZSk7XG4gICAgICAgIHVwZGF0ZVJvdW5kKDAsICRib2FyZCk7XG4gICAgfSk7XG4gICAgLy8gbGlzdGVuKCk7XG4gICAgJGJvYXJkLm9uKCdtb3VzZXVwJywgJy5zcXVhcmUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gbGV0IHggPSBzdGF0ZS51c2VyU2VxdWVuY2UuY29uY2F0KFsoJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykuc2xpY2UoLTEpKV0pO1xuICAgICAgICAgICAgLy8gdG1wID0gey4uLnN0YXRlLCB1c2VyU2VxdWVuY2U6IHh9O1xuICAgICAgICAgICAgbGV0IG51bSA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdpZCcpLnNsaWNlKC0xKTtcbiAgICAgICAgICAgIHBsYXlTb3VuZChudW0sICRib2FyZCk7XG4gICAgICAgICAgICBhcHBTdGF0ZS51c2VyU2VxdWVuY2UucHVzaChudW0pO1xuICAgICAgICAgICAgdGVzdChhcHBTdGF0ZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAvLyBhcHBTdGF0ZSA9IGdlbmVyYXRlU2VxdWVuY2UoYXBwU3RhdGUpO1xuICAgIC8vIHBsYXlTZXF1ZW5jZShhcHBTdGF0ZS5zb3VuZFNlcXVlbmNlKTtcblxuXG4gICAgLy8gZXhwb3J0IHtyYW5nZSwgcmFuZG9tLCBnZW5lcmF0ZVJhbmRvbVNlcXVlbmNlfTtcbn0pKCk7XG5cbiIsImltcG9ydCBzZXRHYW1lU3BlZWQgZnJvbSAnLi9nYW1lU3BlZWQnO1xuaW1wb3J0IHBsYXlTb3VuZCAgICBmcm9tICcuL3BsYXlTb3VuZCc7XG5cbi8qKlxuICogR2l2ZW4gdGhlIHN0YXRlIG9iamVjdCB3aWxsIGZpcnN0IGNhbGwgc2V0R2FtZVNwZWVkIHRoZW4gdXNpbmcgdGhlIGZvckVhY2goKVxuICogZnVuY3Rpb24gcGxhY2UgYSBzZXRUaW1lb3V0KCkgY2FsbCBvbiB0aGUgc3RhY2sgYmFzZSBvZmYgdGhhdCBzcGVlZCBhbmQgdGhlXG4gKiBpbmRleCB2YWx1ZSBmcm9tIHRoZSBzb3VuZFNlcXVlbmNlIGFycmF5XG4gKiBAcGFyYW0gIHtvYmplY3R9IHN0YXRlIGluZm8gYWJvdXQgdGhlIGdhbWUgc3RhdGVcbiAqIEBwYXJhbSAge2pRdWVyeSBlbGVtZW50fSB0aGlzIGlzIHRoZSB3cmFwcGVyIGVsZW1lbnQgZm9yIHRoZSBhdWRpbyBmaWxlcyBhbmRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbCBidXR0b25zIHRvIGhpZ2hsaWdodFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbGF5U2VxdWVuY2Uoc3RhdGUsIHdyYXBwZXIpIHtcbiAgICBzdGF0ZSA9IHNldEdhbWVTcGVlZChzdGF0ZSk7XG4gICAgY29uc29sZS5sb2coc3RhdGUuZ2FtZVNwZWVkKTtcbiAgICBzdGF0ZS5zb3VuZFNlcXVlbmNlLmZvckVhY2goKHNvdW5kSWQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmKGluZGV4IDwgc3RhdGUucm91bmQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcGxheVNvdW5kKHNvdW5kSWQsIHdyYXBwZXIpLFxuICAgICAgICAgICAgICAgIChzdGF0ZS5nYW1lU3BlZWQgKiBpbmRleCkpO1xuICAgICAgICB9XG4gICAgfSk7XG59OyIsImltcG9ydCBoaWdobGlnaHQgZnJvbSAnLi9oaWdobGlnaHQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBsYXlTb3VuZChzb3VuZElkLCB3cmFwcGVyKSB7XG4gICAgY29uc29sZS5sb2coJ3BsYXlpbmcgJyArIHNvdW5kSWQpO1xuICAgIC8vJChgW2RhdGEtc291bmQtaWQ9XCIke3NvdW5kSWR9XCJdYCkudHJpZ2dlcigncGxheScpO1xuICAgIGhpZ2hsaWdodChzb3VuZElkLCB3cmFwcGVyKTtcbiAgICB3cmFwcGVyLmZpbmQoYCNhdWRpbyR7c291bmRJZH1gKS50cmlnZ2VyKCdwbGF5Jyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFuZG9tIChtaW4sIG1heCkge1xuXG4gICAgcmV0dXJuIChNYXRoLm1heChtaW4sIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggKyAxKSkpKTtcblxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgbGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc3RhcnQoc3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBzb3VuZFNlcXVlbmNlOiBbXSxcbiAgICAgICAgICAgIHVzZXJTZXF1ZW5jZTogW10sXG4gICAgICAgICAgICByb3VuZDogMVxuICAgICAgICB9O1xufSIsIi8qKlxuICogR2l2ZW4gdGhlIHJvdW5kIG51bWJlciBmcm9tIHRoZSBhcHBTdGF0ZS5yb3VuZCBhbmQgdGhlICRib2FyZCB3cmFwcGVyIGVsZW1lbnRcbiAqIHRoaXMgd2lsbCBmaW5kIHRoZSBlbGVtZW50IHdpdGggaWQgb2Ygcm91bmQgdG8gbW9kaWZ5IGl0J3MgdGV4dCB0byB0aGUgbmV3XG4gKiByb3VuZCBudW1iZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gcm91bmQgICByb3VuZCBudW1iZXIgaW4gc3RyaW5nIGZvcm1cbiAqIEBwYXJhbSAge2pRdWVyeSBlbGVtZW50fSB3cmFwcGVyIGVsZW1lbnQgdGhhdCBhY3RzIGFzIGEgZ2FtZSBib2FyZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVSb3VuZChyb3VuZCwgd3JhcHBlcikge1xuICAgIHdyYXBwZXIuZmluZCgnI3JvdW5kJykudGV4dChyb3VuZCArICcnKTtcbn0iXX0=\n"],"sourceRoot":"/source/"}